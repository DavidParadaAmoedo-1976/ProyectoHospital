ğŸ§® 10ï¸âƒ£ Obtener la cantidad de tratamientos por sala (PostgreSQL)

ğŸ“˜ Base de datos: hospital_postgre
ğŸ“‹ Tablas: hospital.salas, hospital.salas_tratamientos, hospital.tratamientos

SELECT
    s.nombre_sala AS nombre_sala,
    COUNT(st.id_tratamiento) AS cantidad_tratamientos
FROM hospital.salas s
LEFT JOIN hospital.salas_tratamientos st
    ON s.id_sala = st.id_sala
GROUP BY s.nombre_sala
ORDER BY cantidad_tratamientos DESC;


ğŸ§  QuÃ© hace:
Muestra cuÃ¡ntos tratamientos se asocian a cada sala.
Si una sala no tiene tratamientos, igualmente aparecerÃ¡ con 0.

ğŸ§¾ 11ï¸âƒ£ Listar todos los tratamientos con sus respectivas especialidades y mÃ©dicos (MySQL + PostgreSQL)

ğŸ“˜ Bases:

MySQL â†’ tratamientos (nombre, descripciÃ³n)

PostgreSQL â†’ hospital.tratamientos, hospital.especialidades, hospital.medicos

ğŸ§© Paso 1 (PostgreSQL)

Obtener la informaciÃ³n de id_tratamiento, especialidad y mÃ©dico:

SELECT
    t.id_tratamiento,
    e.nombre_especialidad,
    m.nombre_medico,
    (m.contacto).nif AS nif_medico
FROM hospital.tratamientos t
JOIN hospital.especialidades e
    ON t.id_especialidad = e.id_especialidad
JOIN hospital.medicos m
    ON t.id_medico = m.id_medico
ORDER BY t.id_tratamiento;

ğŸ§© Paso 2 (MySQL)

Con el mismo id_tratamiento, obtienes nombre y descripciÃ³n:

SELECT
    id_tratamiento,
    nombre_tratamiento,
    descripcion
FROM tratamientos
ORDER BY id_tratamiento;


ğŸ§  QuÃ© harÃ¡s en Java:

Ejecutas ambas consultas en cada base.

Combinas los resultados por id_tratamiento.

Muestras:
id_tratamiento | nombre_tratamiento | descripciÃ³n | especialidad | mÃ©dico | nif.

ğŸ‘©â€âš•ï¸ 12ï¸âƒ£ Obtener todos los pacientes que han recibido un tratamiento de una especialidad dada (MySQL + PostgreSQL)

ğŸ“˜ Bases:

PostgreSQL â†’ te da los id_tratamiento de esa especialidad

MySQL â†’ obtienes los pacientes asociados a esos tratamientos

ğŸ§© Paso 1 (PostgreSQL)

Obtener los id_tratamiento de la especialidad:

SELECT
    id_tratamiento
FROM hospital.tratamientos
WHERE id_especialidad = ?;  -- se pasa el parÃ¡metro desde Java

ğŸ§© Paso 2 (MySQL)

Usando esos id_tratamiento, obtienes los pacientes relacionados:

SELECT DISTINCT
    p.id_paciente,
    p.nombre,
    p.email,
    p.fecha_nacimiento
FROM pacientes p
JOIN pacientes_tratamientos pt
    ON p.id_paciente = pt.id_paciente
WHERE pt.id_tratamiento IN (?, ?, ?, ...);  -- los IDs obtenidos de PostgreSQL


ğŸ§  QuÃ© hace:
Devuelve todos los pacientes que recibieron un tratamiento perteneciente a la especialidad dada.


