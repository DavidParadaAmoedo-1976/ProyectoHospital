🧮 10️⃣ Obtener la cantidad de tratamientos por sala (PostgreSQL)

📘 Base de datos: hospital_postgre
📋 Tablas: hospital.salas, hospital.salas_tratamientos, hospital.tratamientos

SELECT
    s.nombre_sala AS nombre_sala,
    COUNT(st.id_tratamiento) AS cantidad_tratamientos
FROM hospital.salas s
LEFT JOIN hospital.salas_tratamientos st
    ON s.id_sala = st.id_sala
GROUP BY s.nombre_sala
ORDER BY cantidad_tratamientos DESC;


🧠 Qué hace:
Muestra cuántos tratamientos se asocian a cada sala.
Si una sala no tiene tratamientos, igualmente aparecerá con 0.

🧾 11️⃣ Listar todos los tratamientos con sus respectivas especialidades y médicos (MySQL + PostgreSQL)

📘 Bases:

MySQL → tratamientos (nombre, descripción)

PostgreSQL → hospital.tratamientos, hospital.especialidades, hospital.medicos

🧩 Paso 1 (PostgreSQL)

Obtener la información de id_tratamiento, especialidad y médico:

SELECT
    t.id_tratamiento,
    e.nombre_especialidad,
    m.nombre_medico,
    (m.contacto).nif AS nif_medico
FROM hospital.tratamientos t
JOIN hospital.especialidades e
    ON t.id_especialidad = e.id_especialidad
JOIN hospital.medicos m
    ON t.id_medico = m.id_medico
ORDER BY t.id_tratamiento;

🧩 Paso 2 (MySQL)

Con el mismo id_tratamiento, obtienes nombre y descripción:

SELECT
    id_tratamiento,
    nombre_tratamiento,
    descripcion
FROM tratamientos
ORDER BY id_tratamiento;


🧠 Qué harás en Java:

Ejecutas ambas consultas en cada base.

Combinas los resultados por id_tratamiento.

Muestras:
id_tratamiento | nombre_tratamiento | descripción | especialidad | médico | nif.

👩‍⚕️ 12️⃣ Obtener todos los pacientes que han recibido un tratamiento de una especialidad dada (MySQL + PostgreSQL)

📘 Bases:

PostgreSQL → te da los id_tratamiento de esa especialidad

MySQL → obtienes los pacientes asociados a esos tratamientos

🧩 Paso 1 (PostgreSQL)

Obtener los id_tratamiento de la especialidad:

SELECT
    id_tratamiento
FROM hospital.tratamientos
WHERE id_especialidad = ?;  -- se pasa el parámetro desde Java

🧩 Paso 2 (MySQL)

Usando esos id_tratamiento, obtienes los pacientes relacionados:

SELECT DISTINCT
    p.id_paciente,
    p.nombre,
    p.email,
    p.fecha_nacimiento
FROM pacientes p
JOIN pacientes_tratamientos pt
    ON p.id_paciente = pt.id_paciente
WHERE pt.id_tratamiento IN (?, ?, ?, ...);  -- los IDs obtenidos de PostgreSQL


🧠 Qué hace:
Devuelve todos los pacientes que recibieron un tratamiento perteneciente a la especialidad dada.


